<h1><%= @post.title %></h1>

<p><%= @post.body %></p>

<p>Category: <%= @post.category_name %></p>

<p><%= @post.created_at %></p>

<% if @favourite.present? && @favourite.persisted? %>
  <%= link_to 'Unfavourite', post_favourite_path(@post, @favourite), method: :delete %>
<% else %>
  <%= link_to 'Favourite', post_favourites_path(@post), method: :post %>
<% end %>

<h3>Comments</h3>

<% @post.comments.each do |comment| %>
  <%= comment.body %>
  <%= link_to 'Delete', [@post, comment], method: :delete, data: { confirm: 'Are you sure?' } %>
  <hr>
<% end %>

<%= form_for [@post, @comment] do |f| %>
  <div>
    <%= f.text_area :body %>
  </div>
  <%= f.submit %>
<% end %>

<div>
  <p>
    <%= link_to 'Edit Post', edit_post_path(@post) %>
    <%= link_to 'Delete Post', post_path(@post), method: :delete, data: { confirm: 'Are you sure?' } %>
  </p>
</div>
